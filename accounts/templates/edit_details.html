{% extends "base.html" %}

{% block title %}Edit Details{% endblock title %}

{% block content %}
<div class="container mt-5 content-container">
    <h2>Edit Details</h2>

    <!-- edit details form  -->
    <form method="post">
        {% csrf_token %}
        <div class="form-group">
            <label for="id_username"><strong>Username</strong></label>
            <input type="text" class="form-control" id="id_username" name="username" value="{{ user_form.data.username|default:user_form.instance.username }}" required>
            {% if user_form.username.errors %}
                <div class="text-danger">
                    {% for error in user_form.username.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
        <div class="form-group">
            <label for="id_email"><strong>Email</strong></label>
            <input type="email" class="form-control" id="id_email" name="email" value="{{ user_form.data.email|default:user_form.instance.email }}" required>
            {% if user_form.email.errors %}
                <div class="text-danger">
                    {% for error in user_form.email.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
        <div class="form-group">
            <label for="id_first_name"><strong>First Name</strong></label>
            <input type="text" class="form-control" id="id_first_name" name="first_name" value="{{ user_form.data.first_name|default:user_form.instance.first_name }}" required>
            {% if user_form.first_name.errors %}
                <div class="text-danger">
                    {% for error in user_form.first_name.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
        <div class="form-group">
            <label for="id_last_name"><strong>Last Name</strong></label>
            <input type="text" class="form-control" id="id_last_name" name="last_name" value="{{ user_form.data.last_name|default:user_form.instance.last_name }}" required>
            {% if user_form.last_name.errors %}
                <div class="text-danger">
                    {% for error in user_form.last_name.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
        <a href="{% url 'profile' %}" class="btn btn-secondary">Cancel</a>
        <button type="submit" class="btn bg-navy">Save Changes</button>
    </form>

    <!-- change password link -->
    <a href="{% url 'account_change_password' %}">Change Password</a>
</div>
{% endblock content %}
