{% extends "base.html" %}

{% block title %}Edit Details{% endblock title %}

{% block content %}
<div class="container mt-5 content-container">
    <h2>Edit Details</h2>

    <!-- edit details form -->
    <form method="post">
        {% csrf_token %}
        <fieldset>
            <legend class="sr-only">Edit User Details</legend>
            
            <div class="form-group">
                <label for="id_username"><strong>Username</strong></label>
                <input type="text" class="form-control" id="id_username" name="username" value="{{ user_form.data.username|default:user_form.instance.username }}" required aria-describedby="usernameHelp">
                {% if user_form.username.errors %}
                    <div class="text-danger" id="usernameHelp">
                        {% for error in user_form.username.errors %}
                            <p>{{ error }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="id_email"><strong>Email</strong></label>
                <input type="email" class="form-control" id="id_email" name="email" value="{{ user_form.data.email|default:user_form.instance.email }}" required aria-describedby="emailHelp">
                {% if user_form.email.errors %}
                    <div class="text-danger" id="emailHelp">
                        {% for error in user_form.email.errors %}
                            <p>{{ error }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="id_first_name"><strong>First Name</strong></label>
                <input type="text" class="form-control" id="id_first_name" name="first_name" value="{{ user_form.data.first_name|default:user_form.instance.first_name }}" required aria-describedby="firstNameHelp">
                {% if user_form.first_name.errors %}
                    <div class="text-danger" id="firstNameHelp">
                        {% for error in user_form.first_name.errors %}
                            <p>{{ error }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="id_last_name"><strong>Last Name</strong></label>
                <input type="text" class="form-control" id="id_last_name" name="last_name" value="{{ user_form.data.last_name|default:user_form.instance.last_name }}" required aria-describedby="lastNameHelp">
                {% if user_form.last_name.errors %}
                    <div class="text-danger" id="lastNameHelp">
                        {% for error in user_form.last_name.errors %}
                            <p>{{ error }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
        </fieldset>
        
        <div class="d-flex justify-content-between">
            <a href="{% url 'profile' %}" class="btn btn-secondary">Cancel</a>
            <button type="submit" class="btn bg-navy">Save Changes</button>
        </div>
    </form>

    <!-- change password link -->
    <div class="mt-3">
        <a href="{% url 'account_change_password' %}">Change Password</a>
    </div>
</div>
{% endblock content %}
